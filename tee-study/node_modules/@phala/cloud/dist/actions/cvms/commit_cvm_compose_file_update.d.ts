import { z } from "zod";
import { type Client } from "../../client";
/**
 * Commit CVM compose file update
 *
 * Finalizes a CVM compose file update by committing the previously provisioned changes.
 * This should be called after `provisionCvmComposeFileUpdate` to complete the update process.
 *
 * @example
 * ```typescript
 * import { createClient, commitCvmComposeFileUpdate } from '@phala/cloud'
 *
 * const client = createClient({ apiKey: 'your-api-key' })
 * await commitCvmComposeFileUpdate(client, {
 *   cvmId: 'cvm-123',
 *   request: {
 *     compose_hash: 'abc123...'
 *   }
 * })
 * // Request accepted, update will be processed asynchronously
 * ```
 *
 * ## Returns
 *
 * `void | unknown`
 *
 * No response body (HTTP 202 Accepted). The update is processed asynchronously. Return type depends on schema parameter.
 *
 * ## Parameters
 *
 * ### request (required)
 * - **Type:** `CommitCvmComposeFileUpdateRequestData`
 *
 * Request parameters containing the CVM ID and commit request data.
 *
 * ### parameters (optional)
 * - **Type:** `CommitCvmComposeFileUpdateParameters`
 *
 * Optional behavior parameters for schema validation.
 *
 * ```typescript
 * // Use default schema (void response)
 * await commitCvmComposeFileUpdate(client, { cvmId: 'cvm-123', request: commitRequest })
 *
 * // Return raw data without validation
 * const raw = await commitCvmComposeFileUpdate(client, { cvmId: 'cvm-123', request: commitRequest }, { schema: false })
 *
 * // Use custom schema
 * const customSchema = z.object({ status: z.string() })
 * const custom = await commitCvmComposeFileUpdate(client, { cvmId: 'cvm-123', request: commitRequest }, { schema: customSchema })
 * ```
 *
 * ## Safe Version
 *
 * Use `safeCommitCvmComposeFileUpdate` for error handling without exceptions:
 *
 * ```typescript
 * import { safeCommitCvmComposeFileUpdate } from '@phala/cloud'
 *
 * const result = await safeCommitCvmComposeFileUpdate(client, { cvmId: 'cvm-123', request: commitRequest })
 * if (result.success) {
 *   console.log('Compose file update committed successfully')
 * } else {
 *   if ("isRequestError" in result.error) {
 *     console.error(`HTTP ${result.error.status}: ${result.error.message}`)
 *   } else {
 *     console.error(`Validation error: ${result.error.issues}`)
 *   }
 * }
 * ```
 */
export declare const CommitCvmComposeFileUpdateRequestSchema: z.ZodEffects<z.ZodEffects<z.ZodObject<{
    id: z.ZodOptional<z.ZodString>;
    uuid: z.ZodOptional<z.ZodString>;
    app_id: z.ZodOptional<z.ZodEffects<z.ZodEffects<z.ZodString, string, string>, string, string>>;
    instance_id: z.ZodOptional<z.ZodEffects<z.ZodEffects<z.ZodString, string, string>, string, string>>;
    compose_hash: z.ZodString;
    encrypted_env: z.ZodOptional<z.ZodString>;
    env_keys: z.ZodOptional<z.ZodArray<z.ZodString, "many">>;
    update_env_vars: z.ZodNullable<z.ZodOptional<z.ZodBoolean>>;
}, "strip", z.ZodTypeAny, {
    compose_hash: string;
    id?: string | undefined;
    app_id?: string | undefined;
    instance_id?: string | undefined;
    uuid?: string | undefined;
    env_keys?: string[] | undefined;
    encrypted_env?: string | undefined;
    update_env_vars?: boolean | null | undefined;
}, {
    compose_hash: string;
    id?: string | undefined;
    app_id?: string | undefined;
    instance_id?: string | undefined;
    uuid?: string | undefined;
    env_keys?: string[] | undefined;
    encrypted_env?: string | undefined;
    update_env_vars?: boolean | null | undefined;
}>, {
    compose_hash: string;
    id?: string | undefined;
    app_id?: string | undefined;
    instance_id?: string | undefined;
    uuid?: string | undefined;
    env_keys?: string[] | undefined;
    encrypted_env?: string | undefined;
    update_env_vars?: boolean | null | undefined;
}, {
    compose_hash: string;
    id?: string | undefined;
    app_id?: string | undefined;
    instance_id?: string | undefined;
    uuid?: string | undefined;
    env_keys?: string[] | undefined;
    encrypted_env?: string | undefined;
    update_env_vars?: boolean | null | undefined;
}>, {
    cvmId: string | undefined;
    compose_hash: string;
    encrypted_env: string | undefined;
    env_keys: string[] | undefined;
    update_env_vars: boolean;
    _raw: {
        compose_hash: string;
        id?: string | undefined;
        app_id?: string | undefined;
        instance_id?: string | undefined;
        uuid?: string | undefined;
        env_keys?: string[] | undefined;
        encrypted_env?: string | undefined;
        update_env_vars?: boolean | null | undefined;
    };
}, {
    compose_hash: string;
    id?: string | undefined;
    app_id?: string | undefined;
    instance_id?: string | undefined;
    uuid?: string | undefined;
    env_keys?: string[] | undefined;
    encrypted_env?: string | undefined;
    update_env_vars?: boolean | null | undefined;
}>;
export declare const CommitCvmComposeFileUpdateSchema: z.ZodEffects<z.ZodAny, undefined, any>;
export type CommitCvmComposeFileUpdateRequest = Omit<z.infer<typeof CommitCvmComposeFileUpdateRequestSchema>, "cvmId" | "_raw" | "update_env_vars"> & {
    id?: string;
    uuid?: string;
    app_id?: string;
    instance_id?: string;
    update_env_vars?: boolean | null;
};
export type CommitCvmComposeFileUpdate = undefined;
declare const commitCvmComposeFileUpdate: {
    (client: Client, params: CommitCvmComposeFileUpdateRequest): Promise<undefined>;
    <T extends z.ZodTypeAny>(client: Client, params: CommitCvmComposeFileUpdateRequest, parameters: {
        schema: T;
    }): Promise<z.TypeOf<T>>;
    (client: Client, params: CommitCvmComposeFileUpdateRequest, parameters: {
        schema: false;
    }): Promise<unknown>;
}, safeCommitCvmComposeFileUpdate: {
    (client: Client, params: CommitCvmComposeFileUpdateRequest): Promise<import("../..").SafeResult<undefined>>;
    <T extends z.ZodTypeAny>(client: Client, params: CommitCvmComposeFileUpdateRequest, parameters: {
        schema: T;
    }): Promise<import("../..").SafeResult<z.TypeOf<T>>>;
    (client: Client, params: CommitCvmComposeFileUpdateRequest, parameters: {
        schema: false;
    }): Promise<import("../..").SafeResult<unknown>>;
};
export { commitCvmComposeFileUpdate, safeCommitCvmComposeFileUpdate };
